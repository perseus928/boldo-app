var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactFastCompare=_interopRequireDefault(require("react-fast-compare"));var _style=require("./style");var _reactNativeGestureHandler=require("react-native-gesture-handler");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _reactNativeRedash=require("react-native-redash");var _this=this,_jsxFileName="/Users/hongngoc/Desktop/curved-bottom-navigation-bar/src/curved/item/ButtonTabItem.tsx";var AnimatedRawButton=(0,_reactNativeGestureHandler.createNativeWrapper)(_reactNativeReanimated.default.createAnimatedComponent(_reactNativeGestureHandler.TouchableOpacity),{shouldCancelWhenOutside:true,shouldActivateOnStart:true});var gestureHandler=function gestureHandler(state){return(0,_reactNativeRedash.onGestureEvent)({state:state});};var ButtonTabItemComponent=function ButtonTabItemComponent(props){var index=props.index,selectedIndex=props.selectedIndex,countTab=props.countTab,indexAnimated=props.indexAnimated,width=props.width,icon=props.icon,clock=props.clock;var isActive=(0,_reactNativeReanimated.eq)((0,_reactNativeReanimated.round)(indexAnimated),index);var progress=(0,_reactNativeRedash.withTimingTransition)(isActive,{duration:200});var _useValues=(0,_reactNativeRedash.useValues)(_reactNativeGestureHandler.State.UNDETERMINED),_useValues2=(0,_slicedToArray2.default)(_useValues,1),state=_useValues2[0];(0,_reactNativeReanimated.useCode)(function(){return(0,_reactNativeReanimated.cond)((0,_reactNativeReanimated.and)((0,_reactNativeReanimated.eq)(indexAnimated,selectedIndex),(0,_reactNativeReanimated.not)((0,_reactNativeReanimated.clockRunning)(clock)),(0,_reactNativeReanimated.eq)(state,_reactNativeGestureHandler.State.END)),[(0,_reactNativeReanimated.set)(selectedIndex,index),(0,_reactNativeReanimated.set)(state,_reactNativeGestureHandler.State.UNDETERMINED)]);},[state,clock]);var containerIconStyle=[{opacity:(0,_reactNativeReanimated.interpolate)(progress,{inputRange:[0,1],outputRange:[1,0]}),transform:[{translateY:(0,_reactNativeReanimated.interpolate)(progress,{inputRange:[0,1],outputRange:[0,50]})}]}];var buttonTab=(0,_react.useMemo)(function(){return[_style.styles.buttonTab,{width:width/countTab}];},[width,countTab]);var renderIcon=(0,_react.useCallback)(function(){return icon({progress:progress});},[props]);return _react.default.createElement(AnimatedRawButton,(0,_extends2.default)({},gestureHandler(state),{__self:_this,__source:{fileName:_jsxFileName,lineNumber:64,columnNumber:9}}),_react.default.createElement(_reactNative.View,{style:buttonTab,__self:_this,__source:{fileName:_jsxFileName,lineNumber:65,columnNumber:13}},_react.default.createElement(_reactNativeReanimated.default.View,{style:containerIconStyle,__self:_this,__source:{fileName:_jsxFileName,lineNumber:66,columnNumber:17}},renderIcon())));};var ButtonTab=(0,_react.memo)(ButtonTabItemComponent,function(prevProps,nextProps){return(0,_reactFastCompare.default)(prevProps,nextProps);});var _default=ButtonTab;exports.default=_default;
//# sourceMappingURL=ButtonTabItem.js.map